const newsLetterData = [
  {
    year: 2024,
    date: "2, FRIDAY",
    time: "20:00",
    month: "August",
    title: "Project-X",
    content: `
    <p style="font-size: 18px; line-height: 1.6;">The CEA of IIT Madras successfully organized an exciting competition, Project X. The challenge of Project X was to design and construct a three-storied structure using popsicle sticks. The competition‚Äôs objective was ‚Äì the structure that could withstand the most stress and sustain the heaviest weight without failure would be declared the winner.</p>
    
    <p style="font-size: 18px; line-height: 1.6;">Participants had to pre-register for the competition. Out of the 13 teams that registered, 10 teams participated, each consisting of 4 to 5 members.
    The event was filled with ingenuity and teamwork as each team demonstrated creativity and structural expertise. After a series of intense rounds of testing, the winners were declared:
    <p style="font-size: 18px; line-height: 1.6;">üèÖ 1st Prize: Karan and Team</p>
    <p style="font-size: 18px; line-height: 1.6;">ü•à 2nd Prize: Anushka and Team</p>
    <p style="font-size: 18px; line-height: 1.6;">ü•â 3rd Prize: Reshma and Team</p>
    
    </p>
    <div class = "img-class">
    <img src="projectX.jpg" alt="Environmental Innovation" style="width: 40%; margin-top: 20px;" />
    </div>
    <p style="font-size: 18px; line-height: 1.6;">Each winning team received certificates, recognizing their hard work and talent.
The competition was not just an excellent platform to showcase engineering skills but also an opportunity for students to collaborate and innovate. The Civil Engineering Association looks forward to organizing more such events that ignite curiosity and inspire the next generation of civil engineers.</p>
    `,
  },
  {
    year: 2024,
    date: "15, THURSDAY",
    time: "16:30",
    month: "August",
    title: "Informal Nite",
    content: `
    <p style="font-size: 18px; line-height: 1.6;">In the evening of August 2nd, 2024, the CEA of IIT Madras hosted a lively and unforgettable Informal Night for the freshers. Designed to foster interaction and fun, this event brought together the freshie batch for an evening filled with games, tasks, performances, and, most importantly, the chance to connect with each other and the CEA team.
    </p>
    <div class = "img-class">
    <img src="Informalnite1.png" alt="Environmental Innovation" style="width: 60%; margin-top: 20px;" />
    </div>
    
    <p style="font-size: 18px; line-height: 1.6;">The event concluded with the distribution of refreshments, offering everyone a moment to unwind, share laughs, and make new friends. With positive responses all around, the night ended on a high note, leaving the freshers with a lasting impression that defines the Civil Engineering Association.
    </p>
    <div class = "img-class">
    <img src="Informalnite2.png" alt="Environmental Innovation" style="width: 60%; margin-top:20px ;" />
    </div>
    <p style="font-size: 18px; line-height: 1.6;">True to its purpose, Informal Night was packed with a series of exciting activities designed to entertain and engage. The freshers were divided into teams to participate in a variety of games. The freshers weren‚Äôt just participants in games ‚Äì they also took the stage to share their talents. Many performed lively dance routines and sang beautiful songs, adding a personal touch to the night. Their enthusiasm and energy were extraordinary, lighting up the entire event.
</p>
    `,
    image: "sustainable_construction.jpg",
  },
  {
    year: 2024,
    date: "5, THURSDAY",
    time: "18:00",
    month: "September",
    title: "Freshie Nite",
    content: `
    <p style="font-size: 18px; line-height: 1.6;">The Civil Engineering Association hosted Freshie Nite, a fun-filled event to welcome the new batch of civil engineering students. The evening was all about making freshers feel at home. With a mix of cultural performances, games, the night was a perfect way for freshers to kickstart their journey at IIT Madras. Vox Rox, the much-anticipated fun interaction session was held before the freshie nite. Freshers are engaged in light-hearted banter and quick-fire Q&A rounds, where witty comebacks and quirky answers had everyone laughing.
    </p>
    <div class = "img-class">
    <img src="img7.jpg" alt="Environmental Innovation" style="width: 60%; margin-top: 20px;" />
    </div>
    
    <p style="font-size: 18px; line-height: 1.6;">The performances at Freshie Nite were nothing short of electrifying! Freshers lit up the stage with lively dance routines and soulful singing that had everyone cheering. The evening featured an exciting mix of performances, including captivating classical acts. From energetic group dances to solo songs that hit all the right notes, the night was packed with talent, energy, and fun.
    </p>
    <div class = "img-class">
    <img src="img4.jpg" alt="Environmental Innovation" style="width: 60%; margin-top:20px ;" />
    </div>
    <p style="font-size: 18px; line-height: 1.6;">The night became even more special when the winners of Project X were recognized and awarded certificates for their outstanding efforts. This event not only welcomed the new batch with open arms but also laid the foundation for friendships and connections that will last throughout their time at the institute. As freshers left with smiles and cherished memories, it was clear that they were ready to embark on an exciting journey ahead!
</p>
    `,
    image: "sustainable_construction.jpg",
  },
  {
    year: 2024,
    date: "30, MONDAY",
    time: "17:00",
    month: "September",
    title: "Career Talks",
    content: `

    <p style="font-size: 18px; line-height: 1.6;">In a recent talk on civil engineering opportunities, Mr.Sarath and Mr. Vaibhav shared their inspiring journey from adversity to success.
</p>
    <p style="font-size: 18px; line-height: 1.6;">Coming from a financially struggling family‚Äîhis father a construction worker and his mother a housemaid‚ÄîSarath took on odd jobs, including working as a bouncer and a newspaper boy, to support his family. He vividly recalled preventing his mother from committing suicide, a moment that cemented his resolve to push forward.
    </p>
    <p style="font-size: 18px; line-height: 1.6;">
Excelling in academics, Sarath funded his school education through vacation jobs, eventually receiving scholarships and sponsorship from the NGO Maatram for his engineering degree. Though he secured an MS admission at IIT Madras, he had to drop out due to documentation issues but later gained entry again by acing the GATE exam, balancing studies and work. Sarath‚Äôs passion for structural engineering began when he discovered Structural Analysis by Prof. Devdas Menon. </p>
    <div class = "img-class">
    <img src="img6.jpg" alt="Environmental Innovation" style="width: 60%; margin-top: 20px;" />
    </div>
    
    <p style="font-size: 18px; line-height: 1.6;">His motivation was personal‚Äîhe wanted to surpass his father in the same field.Through it all, Sarath emphasized the power of visualization and persistence, urging students to never give up on their dreams. Today, his goal is to contribute to research and help underprivileged students achieve their potential through his involvement with Maatram.
    </p>
    <p style="font-size: 18px; line-height: 1.6;">Sarath‚Äôs story is one of resilience, hard work, and the belief in the power of dreams.
</p>

<p style="font-size: 18px; line-height: 1.6; ">For Vaibhav Career Talk, Click <a href = "newsletterPage.html?postIndex=4">here</a></p>
    `,
    image: "sustainable_construction.jpg",
  },
  {
    year: 2024,
    date: "30, MONDAY",
    time: "17:00",
    month: "September",
    title: "Career Talks",
    content: `
    <p style="font-size: 18px; line-height: 1.6;">Vaibhav offered insights into the options available after a B.Tech. He categorized career paths into three main options: 9-to-5 jobs, research, and entrepreneurship. In a job, tasks are assigned by a manager, allowing you to move past yesterday's work. However, research offers more freedom to choose your focus, but it demands dedication to build on what you‚Äôve learned.
    </p>
    <div class = "img-class">
    <img src="img5.jpg" alt="Environmental Innovation" style="width: 60%; margin-top: 20px;" />
    </div>
    
    <p style="font-size: 18px; line-height: 1.6;">For those pursuing a PhD, Vaibhav highlighted two key routes: continuing research through a prestigious post-doc or inspiring future generations as a professor. 
    </p>
    <p style="font-size: 18px; line-height: 1.6;">He acknowledged the challenges in PhD research, especially the uncertainty during the early stages, but emphasized the importance of finding your true interest to stay motivated. Structural Engineering Focus.
</p>
<p style="font-size: 18px; line-height: 1.6;">Vaibhav‚Äôs research in structural engineering involves analyzing the response of bridge members to loads in harsh climatic conditions, specifically in a bridge connecting two islands. His work is data-driven, using sensors on bridges to gather valuable insights.</p>
<p style="font-size: 18px; line-height: 1.6;">He encouraged students to develop skills in specialized software (listed in his presentation) and stressed the importance of finding a PhD guide whose thought process aligns with theirs. For handling academic stress, Sarath advised regular self-reflection or meditation to stay on track and motivated.</p>
<p style="font-size: 18px; line-height: 1.6; font-style: italic;">‚ÄúPlan your career thoughtfully, stay dedicated to your interests, and ensure alignment with your mentor to thrive in your PhD journey.‚Äù</p>
    `,
    image: "sustainable_construction.jpg",
  },
];

// Function to extract images from the content (optional improvement)
function extractImagesFromContent(content) {
  const imageTags = [...content.matchAll(/<img\s+src="([^"]+)"[^>]*>/g)];
  return imageTags.map((match) => match[1]);
}

function getPostIndexFromUrl() {
  const params = new URLSearchParams(window.location.search);
  return params.get("postIndex");
}

function displayArticle() {
  const postIndex = getPostIndexFromUrl();
  const post = newsLetterData[postIndex];

  if (post) {
    const upper = post.month.toUpperCase();
    document.querySelector(".month").textContent = `${upper} EDITION`;
    document.querySelector(".newsLetter-year").textContent = `${post.year}`;
    document.querySelector(".newsLetter-date").textContent = `${post.date}`;
    document.querySelector(".newsLetter-time").textContent = `${post.time}`;
    document.getElementById("articleTitle").textContent = post.title;
    document.getElementById("articleContent").innerHTML = post.content;
  }
}

displayArticle();

// Function to display recent blogs with year, date, and time
function displayRecentBlogs() {
  const currentBlogIndex = getPostIndexFromUrl();
  const recentBlogsContainer = document.querySelector(".recent-blogs");

  const recentBlogs = newsLetterData
    .filter((blogEntry, index) => index != currentBlogIndex)
    .slice(0, 3);

  recentBlogs.forEach((blogEntry) => {
    const blogItem = document.createElement("div");
    blogItem.classList.add("blog-item");

    const postIndex = newsLetterData.findIndex(
      (post) => post.title === blogEntry.title
    );

    blogItem.innerHTML = `
      <img src="${blogEntry.image || "default_image.jpg"}" alt="${
      blogEntry.title
    }" class="blog-image" />
      <h3>${blogEntry.title}</h3>
      <p><strong>Date:</strong> ${blogEntry.date} | <strong>Time:</strong> ${
      blogEntry.time
    } | <strong>Year:</strong> ${blogEntry.year}</p>
      <p>${blogEntry.content.substring(0, 100)}...</p>
      <a href="?postIndex=${postIndex}" class="read-more">Read More</a>
    `;

    recentBlogsContainer.appendChild(blogItem);
  });
}

displayRecentBlogs();
